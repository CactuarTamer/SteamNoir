
start:
  - play morningBGM:
  - show school_morning: WITH FADE
  - show deuzi: happy AT CENTER WITH FADE
  - deuzi says: Welcome to the Tutorial Game!
  - deuzi says: My name is Deuzilene and I'll be your guide
  - show deuzi: normal
  - deuzi says: So you want to make a Visual Novel
  - deuzi says: With RenJS you can easily make games just like this one
  - deuzi says: RenJS is inspired by Renpy and based on PhaserJS
  - deuzi says: If you already know any of those you have and advantage
  - deuzi says: And if not
  - show deuzi: happy
  - deuzi says: No problem!
  - deuzi says: RenJS is made so the text of your story is written intuitively like a script 
  - show deuzi: normal
  - deuzi says: Once you learn the structure, there's no limit to what you can create
  - deuzi says: So let's start with
  - effect SHOWTITLE: 
    title: Chapter 1
    subtitle: The basics 
  - deuzi says: First thing we'll check is the file structure
  - deuzi says: That is, all the files you need for your game to work properly
  - deuzi says: We'll use this game as an example
  - deuzi says: Have you downloaded it yet?
  - choice:
    - I have it!:
      - show deuzi: happy
      - deuzi says: Great! What a hardworking student
    - Not yet:
      - show deuzi: angry
      - deuzi says: What are you waiting for!?
      - deuzi says: Go do it, I'll wait...
      - choice:
        - I have it!:
          - show deuzi: happy
          - deuzi says: Good! Let's continue
  - show deuzi: normal
  - deuzi says: Now, open the root folder of this game
  - deuzi says: It should look like this
  - show deuzi: AT LEFT WITH MOVE
  - show folders: AT 550,300 WITH FADE
  - deuzi says: There are four folders and a file
  - deuzi says: RenJS is web based, that means the game runs as a webpage
  - deuzi says: index.html is the page that contains this game
  - deuzi says: You can play the game locally by opening this file with a browser
  - deuzi says: The folder named RenJS is where the engine's files are located
  - deuzi says: And the folder libs contains the engine's external dependencies, like PhaserJS
  - deuzi says: If you're making a simple game, you shouldn't worry about any of this
  - deuzi says: The files that concern you as a writer are inside the folder Story
  - deuzi says: These yaml files are what make your game
  - deuzi says: YAML is a human readable data serialization language
  - deuzi says: That means that the files contain data in a structure that you can read easily
  - deuzi says: And how do you open and edit them?
  - show deuzi: happy
  - deuzi says: With your favourite text processor!
  - deuzi says: Mine is Sublime Text, a lightweight, open source and multiplatform text processor
  - show deuzi: normal
  - deuzi says: In any case, the most important thing about YAML files is that indentation is super important
  - deuzi says: If you screw up the indentation the game won't even load!
  - show deuzi: angry
  - deuzi says: So be very careful about it. Only two spaces per level!
  - show deuzi: normal
  - deuzi says: Ok, that was a lot of information, don't you think?
  - choice:
    - Yes, I'm already tired:
      - show deuzi: happy
      - deuzi says: I was hoping you'd say that!
      - deuzi says: You can save from the quick menu here on the side and return later!
    - No, I want to know more:
      - show deuzi: happy
      - deuzi says: I knew it!
      - deuzi says: I have a feeling you're not stopping until you write your first story
      - deuzi says: Isn't that exciting?
  - show deuzi: normal
  - deuzi says: All right, I'm going to take a break anyways
  - deuzi says: But I'll let you in good hands
  - show deuzi: happy
  - deuzi says: Good luck!
  - hide deuzi: WITH FADE
  - scene: storySetup

storySetup:
  - show school_morning:
  - show jair:
  - jair says: So you're the new student
  - jair says: I've heard lots of you from Deuzi
  - jair says: She gets easily excited
  - show jair: angry
  - jair says: But to me, you'll have to prove yourself first
  - jair says: Do you have what it takes to be a visual novel writer?
  - show jair: normal
  - jair says: We'll see
  - jair says: I'm Jair btw
  - jair says: But you should know that, since my name is on display right above the text box
  - jair says: I'm here to show you how to setup your story
  - effect SHOWTITLE: 
    title: Chapter 2
    subtitle: Setting up the story
  - jair says: The setup is all contained in the Setup.yaml file
  - jair says: What this means is
  - jair says: All your characters, things, music, sfx and everything you're going to use on the story
  - jair says: Needs to be declared on this file
  - jair says: And of course, you need to know everything before even starting to write your story
  - jair says: What kind of writer doesn't though...
  - wait: 300
  - show jair: happy
  - jair says: Just joking!
  - jair says: You won't always know what things you need on a story
  - jair says: So every time you add something, remember to also add it to the setup file
  - show jair: normal
  - jair says: Let's see how it's made
  - show jair: AT RIGHT WITH MOVE
  - show setupbg: AT 400,350 WITH FADE
  - jair says: First tag you need is setup
  - jair says: Inside the setup, indented by two spaces you declare each kind of object
  - jair says: The first we have is backgrounds
  - jair says: Each background has a tag, the name that will be used to refer to that background on the story
  - jair says: And the path to where the background image is located
  - jair says: If you go to the game's assets folder, you'll find there all the images
  - show jair: happy
  - jair says: Seems like we have an afternoon background
  - jair says: Let's check it so I can go home sooner
  - show school_afternoon: WITH FUSION
  - hide setupbg: WITH FADE
  - jair says: Well, time to go home
  - jair says: See you
  - show jair: normal AT LEFT WITH MOVE
  - show deuzi: angry AT RIGHT
    flipped: true
  - deuzi says: Not so fast!
  - show jair: normal
    flipped: true
  - jair says: Uh oh
  - deuzi says: Where do you think you're going? There's a lot more to say about the setup!
  - jair says: Your student is smart enought to get it without my help
  - deuzi says: What? Do you agree with that?
  - choice:
    - Yeah, I checked the file by myself:
      - show deuzi: normal
      - deuzi says: Alright, I guess you can continue with more advanced lessons then...
      - show jair: happy
      - jair says: See, told you not to treat 'em like a baby
      - show deuzi: angry
      - deuzi says: Shut up you! We'll have a talk later
      - hide jair: WITH FADE
      - show deuzi: normal
      - deuzi says: Ok, next lesson starts soon, maybe you should save and rest before continuing
      - deuzi says: It's going to be long, but probably easy for you
      - show deuzi: happy
      - deuzi says: And the teacher is great! She's my best friend
      - deuzi says: Good luck!
      - scene: writingTheStory
    - We barely saw the first part!:
      - deuzi says: Come back here you ratbag, and finish the lesson!
      - jair says: Ok boss, don't worry
      - hide deuzi: WITH FADE
  - show jair: angry
  - jair says: What a snitch
  - show jair: normal
  - jair says: Anyway, let's see the next part
  - jair says: Characters
  - jair says: The characters are... you know what a character is, come on
  - show setupch: AT 400,300 WITH FADE
  - jair says: Ok so, inside the characters tag, each character is declared after its own tag
  - jair says: Same as the backgrounds, this tag will be used to refer to this character on the text of your story
  - jair says: Every time you need to use Deuzilene, you will use her tag, deuzi
  - jair says: Characters also have a display name, that's the name that will apear on the name box when we talk
  - jair says: The display name can have whitespaces, accents and whatever you want
  - jair says: If you omit it, the tag will be used as the name
  - jair says: The speech colour is the colour to write the name in the name box
  - jair says: And then you have a list of looks
  - jair says: A look is an image representing a state of the character
  - jair says: You always need a normal look, that will be the default
  - jair says: And you can have as many additional looks as you want
  - jair says: Deuzi here can be happy or angry
  - show jair: happy
  - jair says: Her range of emotions is infinite though
  - jair says: Believe me
  - show jair: normal
  - hide setupch:
  - jair says: Next up is cgs
  - show setupcgs: 400,350 WITH FADE
  - jair says: CGs stands for Computer Graphics
  - jair says: It's an image that you can display and animate
  - show jair: angry
  - jair says: It should have a better name, I know
  - jair says: But for now, it's what we have
  - show jair: normal
  - jair says: Same as always, you have the cgs tag, and then each cgs has a tag and an image file
  - jair says: We have two phones
  - jair says: Could one of those be mine?
  - show phone1: AT 600,300
  - show phone2: AT 380,300
  - jair says: I don't think so!
  - hide phone1:
  - hide phone2:
  - hide setupcgs:
  - jair says: "And to finish: audio"
  - show setupaudio: AT 400,350
  - jair says: You can have music, and you can have sfx
  - jair says: The music will usually be looped, while the sfx will play just once
  - jair says: For example, the current background music is morningBGM
  - jair says: Let's make a phone call and check the ringtone...
  - show phone1: AT 400,300
  - play ringtoneSFX:
  - text: Tururu Ruru Ruru Ruruuuu
  - jair says: This has to be Deuzi's
  - show deuzi: angry AT RIGHT
    flipped: true
  - deuzi says: Hey! That's my phone!
  - hide phone1:
  - hide deuzi: WITH FADE
  - show jair: happy
  - jair says: I knew it!
  - show jair: normal
  - jair says: Anyway, that's it, lesson over
  - hide setupaudio:
  - jair says: I'm going to try and find the place where this bar music is playing
  - show jair: happy
  - jair says: You're not entirely bad
  - jair says: See you around
  - jair says: And don't get lost, your next class is over there!
  - hide jair: WITH FADE
  - scene: writingTheStory

writingTheStory:
  - show school_afternoon:
  - show liz: normal
  - liz says: Hi! I'm Liz and I'll be your writing mentor
  - liz says: Here we'll see how to actually write the story
  - show liz: happy
  - liz says: Are you ready!?
  - effect SHOWTITLE: 
    title: Chapter 3
    subtitle: Writing Part 1
  - show liz: normal
  - liz says: First thing you need to know about a story is, it's divided in scenes
  - liz says: Each scene is a list of orders that will be executed from first to last
  - liz says: Inside a scene you can show backgrounds, characters, make them talk, show choices, call other scenes, and a lot more
  - liz says: The scenes are all contained in the file YourStory.yaml
  - liz says: And each one has a tag name. This name can be anything, but you always need a scene called start
  - liz says: That will be, of course, the starting scene
  - show liz: happy
  - liz says: Really easy, don't you think?
  - show liz: normal
  - liz says: So, let's see what's the content of a scene
  - show liz: AT RIGHT WITH MOVE
  - show scenestart:
  - liz says: This is the starting scene of this game
  - liz says: First thing we do is play music
  - liz says: Notice the dash symbol
  - liz says: That dash indicates that this is a single action
  - liz says: Every action starts with a dash
  - liz says: Also, after declaring the basic action, you add a colon
  - liz says: After this, you can add additional parameters
  - liz says: But sometimes you don't need anything, like in this case
  - liz says: Still, the colon is important
  - liz says: Next line we have another action, notice the starting dash
  - liz says: This one shows the background whose tag is school_morning
  - liz says: You were there this morning, remember?
  - liz says: The background takes some aditional parameters
  - liz says: The uppercase text WITH is a special word to indicate a transition
  - liz says: And FADE is the name of that transition
  - liz says: There are a few transitions included with RenJS, like CUT, FADE, FUSION, MOVE, FADETOBLACK and FADETOWHITE
  - liz says: You can add your own transitions if you feel adventurous
  - show liz: happy
  - liz says: Or you can ask your programmer friend to code them for you!
  - show liz: normal
  - liz says: The transitions aren't just for backgrounds but also for characters and cgs
  - liz says: The next line shows a character appearing on the screen
  - show liz: happy
  - liz says: Deuzilene, my best friend
  - show liz: normal
  - liz says: The first aditional parameter is her look. She was happy to welcome you!
  - liz says: Also, notice another special word AT, used to designate the position
  - liz says: The position can be LEFT, CENTER, RIGHT, or it can be a coordinate like 200,200
  - liz says: And we use, too, the transition FADE
  - liz says: Next line is Deuzi welcoming you. The extra parameter is the text.
  - hide scenestart:
  - liz says: So, with just these sentences you can show backgrounds, characters and make them talk
  - liz says: But how do we hide them?
  - liz says: Easily! Just hide them!
  - show scenehide:
  - liz says: In this scene Jair is trying to annoy Deuzilene once again.
  - show liz: angry
  - liz says: He has her phone!
  - show liz: normal
  - liz says: On the second line, the phone, a cgs with phone1 tag, is shown
  - liz says: As the cgs are smaller than characters, we need a specific coordinate to locate them on the screen
  - liz says: We use the special word AT again, but this time, with the coordinates
  - liz says: Next we play the phone's ringtone, an SFX tagged as ringtoneSFX
  - liz says: To visually show the phone is ringing, we show its onomatopoeia.
  - liz says: "As no character is speaking, the 'text' action is used instead."
  - liz says: Then Deuzilene comes to rescue her phone!
  - liz says: Can you notice something different when Deuzi appears this time?
  - liz says: That's right, she's flipped
  - liz says: Sometimes we need our characters to face the other way
  - liz says: One easy way to do it is to flip their look
  - liz says: On the show action, you just add a new extra parameter
  - liz says: "The line right after 'show' doesn't start with a dash, that means it's still the same action as before"
  - liz says: "And so we add the parameter, flipped: true"
  - liz says: Then Deuzi grabs her phone
  - liz says: Hiding it is really easy, as I said before
  - liz says: And same thing for characters, we can hide Deuzi, taking a specific transition
  - liz says: Let's hide this lesson now
  - hide scenehide:
  - show liz: AT CENTER WITH MOVE
  - liz says: So that's it for today. You must be really tired after studying the whole day.
  - show liz: happy
  - liz says: See you tomorrow for part 2!
  - hide liz: WITH FADE
  - scene: interval

interval:
  - stop morningBGM: WITH FADE
  - show room_night:
  - show room_night_light: WITH FUSION
  - play cicadas: WITH FADE
  - show deuzi: normalC WITH FADE
  - deuzi says: Hey! I knew I was going to find you here.
  - deuzi says: Were you going to sleep already?
  - deuzi says: I know you're new in town, so I thought I could show you around a bit 
  - deuzi says: What do you think?
  - interrupt 6:
    - Isn't it a bit awkward???:
      - show deuzi: angryC
      - deuzi says: What do you mean?
      - deuzi says: Because I'm your teacher?  
      - show deuzi: happyC
      - deuzi says: We're almost the same age!
      - show deuzi: normalC
      - deuzi says: You might be teaching some years from now too. 
      - show deuzi: angryC
      - deuzi says: Then you'll see how awkward is to be called professor and treatead like and old person.
      - show deuzi: normalC
      - deuzi says: Anyway, as I was saying...
  - deuzi says: You probably know it already, but this is a small town.
  - deuzi says: There's not much to see, really.
  - deuzi says: But the cool kids all get together outside the store.
  - deuzi says: Have you gone there already?
  - deuzi says: You can't miss it.
  - deuzi says: So, ready to go?
  - show deuzi: happyC
  - deuzi says: Let's go!
  - scene: storeAtNight

storeAtNight:
  - play storeBGM:
  - show store:
  - show liz: happyC WITH FADE
  - liz says: Deuzi!!! Over here!
  - show liz: happyC AT 500,600 WITH MOVE
  - show deuzi: happyC AT 300,600 WITH FADE
  - deuzi says: Liz! How are you?
  - show liz: normalC
  - liz says: Great! I just got here and was wondering where you were.
  - show deuzi: normalC
  - deuzi says: I stopped by the dorms to get my new student, and show them around.
  - show jair: happyC AT LEFT WITH FADE
    flipped: true
  - jair says: You should stop acting like a mama duck to your students
  - show deuzi: angryC
    flipped: true
  - deuzi says: Are you jealous for not getting all the attention now?
  - show jair: angryC
  - jair says: Yeah, right...
  - show marco: normalC WITH FADE AT RIGHT
  - marco says: You two fighting again?
  - show liz: happyC
  - liz says: Seems like a normal day
  - show deuzi: angryC
    flipped: false
  - deuzi says: Hey! You're supposed to be on my side.
  - deuzi says: He started it!
  - show liz: normalC
  - show deuzi: normalC
  - deuzi says: Anyway, good to see you Marco.
  - show jair: happyC
  - jair says: Yes, what's the special occasion that made you crawl out of your hole.
  - show marco: happyC
  - marco says: Have to get some food before it starts raining.
  - show liz: angryC
  - liz says: What rain? It was a beautiful day!
  - effect THUNDER:
  - marco says: I better hurry. Bye!
  - hide marco:
  - deuzi says: Maybe we should go too, before...
  - ambient RAIN:
  - jair says: I knew something weird was going to happend when I saw that guy.
  - deuzi says: How could this happen so suddenly?
  - show liz: normalC
  - liz says: Well, it's rather easy.
  - liz says: Ambients and effects.
  - jair says: Come on! Not on the street!
  - show liz: angryC
  - show deuzi: angryC
    flipped: true
  - deuzi says: That's it! You and I are going to have a serious talk!
  - jair says: If you can catch me!
  - hide jair:
  - show deuzi: angryC AT LEFT WITH MOVE
  - hide deuzi: WITH FADE
  - show liz: happyC
  - liz says: I know how that's going to end.
  - show liz: normalC
  - liz says: As I was saying, ambient changes are really easy to make.
  - liz says: Let me show you.
  - show ambientAndEffects:
  - liz says: Ambients are visual and sound effects that persist on time.
  - liz says: Like rain, snow or cherry blossoms falling.
  - liz says: "You call them using the action 'ambient', followed by the ambient name"
  - liz says: There's a few ambients ready to use.
  - liz says: RAIN, SNOW and SAKURA.
  - liz says: To stop an ambient you call a special ambient called CLEAR.
  - ambient CLEAR:
  - show liz: happyC
  - liz says: And the rain stops!
  - liz says: Finally!
  - show liz: normalC
  - liz says: Effects are also visual and sound effects, but they are played just once.
  - liz says: Like that thunder before.
  - liz says: "Some other handy effects are:"
  - liz says: SHAKE, a screen shake!
  - liz says: SHOWTITLE, a title screen like the ones at the start of each chapter.
  - liz says: You can send two extra parameters, title and subtitle to it.
  - liz says: EXPLOSION, just what it says on the tin.
  - liz says: ATTACK, MULTIATTACK and CHAINATTACK.
  - liz says: Last thing about this,
  - liz says: The extra sounds and images used by ambients and effects have to be declared on the extra section of the setup file.
  - liz says: For example, the RAIN ambient uses a rain sound and a raindrop image.
  - hide ambientAndEffects:
  - show liz: happyC
  - liz says: And that's pretty much it.
  - show marco: normalC AT LEFT WITH FADE
  - marco says: Where you under the rain all this time?
  - show liz: normalC
  - liz says: It's ok, I like rain.
  - liz says: Did you get your dinner?
  - show marco: happyC
  - marco says: I got some things to cook, do you want to come over?
  - liz says: Really? All right, let's go.
  - show liz: normalC
  - liz says: By the way, this is Marco, he'll be teaching you about the GUI tomorrow.
  - show marco: normalC
  - marco says: Hi new kid!
  - liz says: Do you think you can find your way back to the dorms by yourself?
  - choice:
    - Yes, no problem:
      - liz says: Ok, then I guess I'll see you tomorrow, don't be late!
    - Sure:
      - liz says: Ok, then I guess I'll see you tomorrow, don't be late!
  - scene: backToTheRoom

backToTheRoom:
  - play cicadas: WITH FADE
  - show room_night:
  - show room_night_light: WITH FUSION  
  - text: Your day was very tiring, but you're closer to be a visual novel writer. Tomorrow is going to be another long day, you better rest.
  - show room_night: WITH FUSION
  - wait: 400
  - scene: day2

day2:
  - play morningBGM:
  - show school_morning: WITH FADE
  - show deuzi: happy AT CENTER WITH FADE
  - deuzi says: Welcome back!
  - deuzi says: How was your first night away from home?
  - show deuzi: normal
  - deuzi says: Are you ready for today's lessons?


